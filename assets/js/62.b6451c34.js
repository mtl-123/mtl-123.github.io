(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{418:function(s,a,t){"use strict";t.r(a);var e=t(8),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"python-uv-使用指南-astral"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python-uv-使用指南-astral"}},[s._v("#")]),s._v(" Python "),a("code",[s._v("uv")]),s._v(" 使用指南（Astral）")]),s._v(" "),a("p",[a("code",[s._v("uv")]),s._v(" 是由 Rust 构建的下一代 Python 包管理工具，兼容 "),a("code",[s._v("pip")]),s._v("、"),a("code",[s._v("pip-tools")]),s._v("、"),a("code",[s._v("virtualenv")]),s._v(" 等命令，速度比传统工具快 10-100 倍。以下内容按实际使用逻辑整理，涵盖核心功能与最佳实践。")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"一、安装指南"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、安装指南"}},[s._v("#")]),s._v(" 一、安装指南")]),s._v(" "),a("h3",{attrs:{id:"_1-macos-linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-macos-linux"}},[s._v("#")]),s._v(" 1. macOS / Linux")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载安装脚本并执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-LsSf")]),s._v(" https://astral.sh/uv/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("注解：脚本会自动检测平台并安装对应二进制文件，默认路径为 "),a("code",[s._v("$HOME/.local/bin/uv")]),s._v(" 。")]),s._v(" "),a("h3",{attrs:{id:"_2-windows-powershell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-windows-powershell"}},[s._v("#")]),s._v(" 2. Windows（PowerShell）")]),s._v(" "),a("div",{staticClass:"language-powershell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[s._v("powershell "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ExecutionPolicy ByPass "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"irm https://astral.sh/uv/install.ps1 | iex"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("注解：安装完成后需重启终端或手动将安装目录添加到 "),a("code",[s._v("PATH")]),s._v(" 。")]),s._v(" "),a("h3",{attrs:{id:"_3-二进制安装-推荐二进制安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-二进制安装-推荐二进制安装"}},[s._v("#")]),s._v(" 3. 二进制安装（推荐二进制安装）")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载uv二进制包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://github.com/astral-sh/uv/releases/download/0.7.5/uv-x86_64-unknown-linux-gnu.tar.gz\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压到/usr/local/bin 下面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-xf")]),s._v(" uv-x86_64-unknown-linux-gnu.tar.gz "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-C")]),s._v(" /usr/local/bin\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可看见安装的 uv 和 uvx")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-la")]),s._v(" /usr/local/bin\nuv*\nuvx*\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"_4-验证安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-验证安装"}},[s._v("#")]),s._v(" 4. 验证安装")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("uv "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"二、快速入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、快速入门"}},[s._v("#")]),s._v(" 二、快速入门")]),s._v(" "),a("h3",{attrs:{id:"_1-初始化项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-初始化项目"}},[s._v("#")]),s._v(" 1. 初始化项目")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("uv init hello-world\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" hello-world\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("注解：生成项目结构及 "),a("code",[s._v("pyproject.toml")]),s._v("，默认包含基础配置 。")]),s._v(" "),a("h3",{attrs:{id:"_2-创建虚拟环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建虚拟环境"}},[s._v("#")]),s._v(" 2. 创建虚拟环境")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("uv venv\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .venv/bin/activate  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 激活环境 (bash 执行这里)")]),s._v("\nor\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .venv/bin/activate.fish  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 激活环境 (fish 执行这里)")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("注解：默认创建 "),a("code",[s._v(".venv")]),s._v(" 虚拟环境，支持通过 "),a("code",[s._v("-p")]),s._v(" 指定 Python 版本 。")]),s._v(" "),a("h3",{attrs:{id:"_3-安装依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装依赖"}},[s._v("#")]),s._v(" 3. 安装依赖")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("uv "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" requests  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加依赖（更新 pyproject.toml）")]),s._v("\nuv pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" flask  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装不更新配置文件")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("注解："),a("code",[s._v("uv add")]),s._v(" 会同步更新 "),a("code",[s._v("pyproject.toml")]),s._v(" 和 "),a("code",[s._v("uv.lock")]),s._v("，"),a("code",[s._v("uv pip install")]),s._v(" 行为类似 "),a("code",[s._v("pip")]),s._v(" 。")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"三、依赖管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、依赖管理"}},[s._v("#")]),s._v(" 三、依赖管理")]),s._v(" "),a("h3",{attrs:{id:"_1-常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-常用命令"}},[s._v("#")]),s._v(" 1. 常用命令")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("uv "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据锁文件安装依赖")]),s._v("\nuv "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--upgrade")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 升级依赖")]),s._v("\nuv remove requests "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除依赖")]),s._v("\nuv pip list       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已安装依赖")]),s._v("\nuv tree           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看依赖树")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"_2-国内镜像加速"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-国内镜像加速"}},[s._v("#")]),s._v(" 2. 国内镜像加速")]),s._v(" "),a("h4",{attrs:{id:"_1-项目配置-pyproject-toml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-项目配置-pyproject-toml"}},[s._v("#")]),s._v(" (1) 项目配置（"),a("code",[s._v("pyproject.toml")]),s._v("）")]),s._v(" "),a("div",{staticClass:"language-toml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("tool.uv.index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("url")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://pypi.tuna.tsinghua.edu.cn/simple"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"_2-环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-环境变量"}},[s._v("#")]),s._v(" (2) 环境变量")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 临时使用")]),s._v("\nuv "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" --default-index https://mirrors.aliyun.com/pypi/simple fastmcp\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("UV_INDEX_URL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://pypi.tuna.tsinghua.edu.cn/simple\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("注解：推荐使用清华大学、阿里云等国内镜像源加速下载 。")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"四、项目管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、项目管理"}},[s._v("#")]),s._v(" 四、项目管理")]),s._v(" "),a("h3",{attrs:{id:"_1-项目结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-项目结构"}},[s._v("#")]),s._v(" 1. 项目结构")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n├── .venv/          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 虚拟环境")]),s._v("\n├── pyproject.toml  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目配置")]),s._v("\n├── uv.lock         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 依赖锁文件")]),s._v("\n└── src/            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 源码目录")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"_2-锁文件管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-锁文件管理"}},[s._v("#")]),s._v(" 2. 锁文件管理")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("uv lock --upgrade-package requests  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 单独升级依赖")]),s._v("\nuv "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--refresh")]),s._v("                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 强制刷新依赖")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_3-依赖编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-依赖编译"}},[s._v("#")]),s._v(" 3. 依赖编译")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("uv pip compile requirements.in "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" requirements.txt  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成锁文件")]),s._v("\nuv pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" requirements.txt                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装锁定版本")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"五、虚拟环境与-python-版本管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、虚拟环境与-python-版本管理"}},[s._v("#")]),s._v(" 五、虚拟环境与 Python 版本管理")]),s._v(" "),a("h3",{attrs:{id:"_1-虚拟环境操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-虚拟环境操作"}},[s._v("#")]),s._v(" 1. 虚拟环境操作")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("uv venv .venv "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--python")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.11")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定 Python 版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .venv/bin/activate       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 激活环境")]),s._v("\ndeactivate                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出环境")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_2-python-版本管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-python-版本管理"}},[s._v("#")]),s._v(" 2. Python 版本管理")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置国内镜像源（可选）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("UV_PYTHON_INSTALL_MIRROR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://gh-proxy.com/github.com/indygreg/python-build-standalone/releases/download"')]),s._v("\n\nuv python "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.13")]),s._v(".2  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定版本")]),s._v("\nuv python list            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已安装版本")]),s._v("\nuvx python@3.13.2 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"print('hello')\"")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用特定版本运行脚本")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("注解："),a("code",[s._v("uv")]),s._v(" 可替代 "),a("code",[s._v("pyenv")]),s._v(" 管理多版本 Python 。")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"六、全局工具管理-替代-pipx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、全局工具管理-替代-pipx"}},[s._v("#")]),s._v(" 六、全局工具管理（替代 pipx）")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("uv tool "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" black  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装全局工具")]),s._v("\nuv tool run black "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行工具")]),s._v("\nuvx ruff "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 快捷命令（类似 npx）")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("注解："),a("code",[s._v("uvx")]),s._v(" 提供即时运行工具的能力，无需全局安装 。")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"七、高级功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、高级功能"}},[s._v("#")]),s._v(" 七、高级功能")]),s._v(" "),a("h3",{attrs:{id:"_1-工作区模式-monorepo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-工作区模式-monorepo"}},[s._v("#")]),s._v(" 1. 工作区模式（Monorepo）")]),s._v(" "),a("div",{staticClass:"language-toml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[s._v("tool.uv.workspace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("members")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"packages/*"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[s._v("exclude")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"packages/seeds"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("注解：通过 "),a("code",[s._v("workspace")]),s._v(" 配置多包项目，共享依赖锁文件 。")]),s._v(" "),a("h3",{attrs:{id:"_2-缓存管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-缓存管理"}},[s._v("#")]),s._v(" 2. 缓存管理")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("uv cache "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看缓存路径")]),s._v("\nuv cache clean  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清除所有缓存")]),s._v("\nuv cache purge  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除未使用缓存")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_3-容器化部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-容器化部署"}},[s._v("#")]),s._v(" 3. 容器化部署")]),s._v(" "),a("div",{staticClass:"language-dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" python:3.12-slim-bookworm")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COPY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token options"}},[a("span",{pre:!0,attrs:{class:"token property"}},[s._v("--from")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("ghcr.io/astral-sh/uv:latest")])]),s._v(" /uv /uvx /bin/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENV")]),s._v(" UV_SYSTEM_PYTHON=1")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WORKDIR")]),s._v(" /app")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COPY")]),s._v(" requirements.txt .")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RUN")]),s._v(" uv pip install -r requirements.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CMD")]),s._v(" ["),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"uv"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"run"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app.py"')]),s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("注解："),a("code",[s._v("uv")]),s._v(" 可显著加速容器构建过程 。")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"八、迁移指南"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、迁移指南"}},[s._v("#")]),s._v(" 八、迁移指南")]),s._v(" "),a("h3",{attrs:{id:"_1-从-pip-迁移"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-从-pip-迁移"}},[s._v("#")]),s._v(" 1. 从 pip 迁移")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("uv "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" requirements.txt  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 替代 pip install -r")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_2-从-conda-迁移"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-从-conda-迁移"}},[s._v("#")]),s._v(" 2. 从 conda 迁移")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("conda list "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" requirements.txt\nuv pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" requirements.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"九、性能优势"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#九、性能优势"}},[s._v("#")]),s._v(" 九、性能优势")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("速度")]),s._v("：比 "),a("code",[s._v("pip")]),s._v(" 快 10-100 倍，依赖解析采用 Rust 实现 。")]),s._v(" "),a("li",[a("strong",[s._v("兼容性")]),s._v("：支持 "),a("code",[s._v("pip")]),s._v("、"),a("code",[s._v("pip-tools")]),s._v("、"),a("code",[s._v("poetry")]),s._v(" 等工具链 。")]),s._v(" "),a("li",[a("strong",[s._v("跨平台")]),s._v("：Windows/macOS/Linux 全平台支持 。")])]),s._v(" "),a("hr")])}),[],!1,null,null,null);a.default=n.exports}}]);