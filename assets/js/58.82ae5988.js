(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{412:function(a,t,s){"use strict";s.r(t);var n=s(8),e=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"一、物理磁盘直通"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、物理磁盘直通"}},[a._v("#")]),a._v(" 一、物理磁盘直通")]),a._v(" "),t("ul",[t("li",[a._v("KVM 硬盘直通操作方法\n"),t("ul",[t("li",[a._v("由于之前使用windows系统时把软件都装到一块软件盘中，里面的软件在都是绿色包，由于使用虚拟机安装的windows系统不想再次安装软件所以把，硬盘直通到虚拟机中，从而直接使用。\n"),t("ul",[t("li",[a._v("操作流程")]),a._v(" "),t("li",[a._v("先确定物理设备盘符`")])])])])])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("meitaolin@meitaolin:~$ lsblk "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v("\nNAME        FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS\nsda                                                                                \n└─sda1      ntfs         DATA  D0DA2C70DA2C54CE                                    \nnvme1n1                                                                            \n├─nvme1n1p1 vfat   FAT32       377D-9B89                             "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("505")]),a._v(".1M     "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("% /boot/efi\n├─nvme1n1p2 ext4   "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.0")]),a._v("         699a1f0b-17d5-4823-81c3-5a4ae1e59ea7   "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),a._v(".3G    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("45")]),a._v("% /\n├─nvme1n1p3 ext4   "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.0")]),a._v("         fae32ea5-e5e1-4ed5-bfb7-bb4e703e12bb    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("7")]),a._v(".4G    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v("% /var\n├─nvme1n1p4 swap   "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("           212b4bef-a65a-4981-92eb-81175d7ace6e                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("SWAP"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n├─nvme1n1p5 ext4   "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.0")]),a._v("         8258f2ab-ea26-414d-bc8b-5091f420348f    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(".7G     "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("% /tmp\n└─nvme1n1p6 ext4   "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.0")]),a._v("         cf1e0d6f-c7fc-465b-bb89-97b1621f8b9e  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("770")]),a._v(".2G     "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("7")]),a._v("% /home\nnvme0n1                                                                            \n├─nvme0n1p1 vfat   FAT32       04BC-28C9                                           \n├─nvme0n1p2                                                                        \n├─nvme0n1p3 ntfs               E8BABD42BABD0DD6                                    \n├─nvme0n1p4 ntfs         软件  1C16D27116D24B80                      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("321")]),a._v(".9G    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("36")]),a._v("% /media/meitaolin/软件 "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 这是安装软件的盘符，也是这次要挂在的物理直通硬盘")]),a._v("\n└─nvme0n1p5 ntfs               D0402B90402B7BFA                                    \nmeitaolin@meitaolin:~$ \n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br")])]),t("p",[a._v("如何确定 "),t("code",[a._v("nvme0n1p4")]),a._v(" 的完整盘符路径？")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("meitaolin@meitaolin:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("fdisk")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" nvme0n1p4\n/dev/nvme0n1p4 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2857256960")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3905830911")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1048573952")]),a._v("  500G Microsoft basic data\n上面可看到 物理盘符路径为 "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("/dev/nvme0n1p4"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("  容量为500G  是windows基础数据盘\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h2",{attrs:{id:"二、如何添加"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、如何添加"}},[a._v("#")]),a._v(" 二、如何添加？")]),a._v(" "),t("p",[a._v("方法一")]),a._v(" "),t("ul",[t("li",[a._v("编辑 "),t("code",[a._v("/etc/libvirt/qemu/win10.xml")]),a._v(" 文件 (注意这里的win10.xml 文件是你实际命名文件请自行查阅)")]),a._v(" "),t("li",[a._v("使用vim 编辑器进入后，查询到disk位置 根据xml语法在后面插入下面内容")])]),a._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("disk")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("type")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("block"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("device")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("disk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("driver")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("qemu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("type")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("raw"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("cache")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("none"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("io")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("native"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("discard")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("unmap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("source")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("dev")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("/dev/nvme0n1p4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("index")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v(" # 这里的盘符是你实际盘符名称\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("backingStore")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("target")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("dev")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("sdc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("bus")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("sata"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("alias")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("sata0-0-2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("address")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("type")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("drive"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("controller")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("bus")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("target")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("unit")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("disk")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br")])]),t("h2",{attrs:{id:"三、方法二"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、方法二"}},[a._v("#")]),a._v(" 三、方法二")]),a._v(" "),t("p",[a._v("打开虚拟机管理器")]),a._v(" "),t("ul",[t("li",[a._v("先关闭虚拟机")]),a._v(" "),t("li",[a._v("打开虚拟机管理器")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("meitaolin@meitaolin:~$  virt-manager \n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("![[Pasted image 20241223113130.png]]")]),a._v(" "),t("p",[a._v("添加物理设备")]),a._v(" "),t("ul",[t("li",[a._v("点击蓝色叹号->添加硬件\n![[Pasted image 20241223113244.png]]")])]),a._v(" "),t("p",[a._v("![[Pasted image 20241223113316.png]]")]),a._v(" "),t("p",[a._v("![[Pasted image 20241223113336.png]]")]),a._v(" "),t("p",[a._v("![[Pasted image 20241223113624.png]]")])])}),[],!1,null,null,null);t.default=e.exports}}]);