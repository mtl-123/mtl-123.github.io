(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{420:function(s,a,t){"use strict";t.r(a);var r=t(8),e=Object(r.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"虚拟化-kvm-常用命令汇总"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#虚拟化-kvm-常用命令汇总"}},[s._v("#")]),s._v(" 虚拟化 KVM 常用命令汇总")]),s._v(" "),a("p",[s._v("KVM（Kernel-based Virtual Machine）是一种开源的硬件虚拟化解决方案，允许在支持虚拟化技术的硬件上运行虚拟机。它将 Linux 内核转变为一个裸机虚拟机监控器（Hypervisor），使用户可以运行多个隔离的虚拟机，每个虚拟机都可以运行自己的操作系统。")]),s._v(" "),a("h2",{attrs:{id:"_1-虚拟机基本操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-虚拟机基本操作"}},[s._v("#")]),s._v(" 1. 虚拟机基本操作")]),s._v(" "),a("h3",{attrs:{id:"_1-1-查看虚拟机列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-查看虚拟机列表"}},[s._v("#")]),s._v(" 1.1 查看虚拟机列表")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" list "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--all")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("--all")]),s._v("：显示所有虚拟机，包括运行中和停止的。")])]),s._v(" "),a("h3",{attrs:{id:"_1-2-启动虚拟机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-启动虚拟机"}},[s._v("#")]),s._v(" 1.2 启动虚拟机")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" start "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称或ID"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_1-3-关闭虚拟机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-关闭虚拟机"}},[s._v("#")]),s._v(" 1.3 关闭虚拟机")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称或ID"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("安全关闭，等效于按下虚拟机中的电源按钮。")])]),s._v(" "),a("h3",{attrs:{id:"_1-4-强制关闭虚拟机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-强制关闭虚拟机"}},[s._v("#")]),s._v(" 1.4 强制关闭虚拟机")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" destroy "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称或ID"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("注意")]),s._v("：这是强制操作，可能导致数据丢失。")])]),s._v(" "),a("h3",{attrs:{id:"_1-5-重启虚拟机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-重启虚拟机"}},[s._v("#")]),s._v(" 1.5 重启虚拟机")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称或ID"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("等效于："),a("code",[s._v("shutdown + start")]),s._v("。")])]),s._v(" "),a("h3",{attrs:{id:"_1-6-挂起和恢复虚拟机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-挂起和恢复虚拟机"}},[s._v("#")]),s._v(" 1.6 挂起和恢复虚拟机")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("挂起虚拟机")]),s._v("：")])]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("suspend")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("p",[a("strong",[s._v("恢复挂起的虚拟机")]),s._v("：")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" resume "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_1-7-删除虚拟机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-删除虚拟机"}},[s._v("#")]),s._v(" 1.7 删除虚拟机")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" undefine "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("注意")]),s._v("：此命令仅删除虚拟机配置，不删除磁盘文件。")])]),s._v(" "),a("h2",{attrs:{id:"_2-虚拟机资源管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-虚拟机资源管理"}},[s._v("#")]),s._v(" 2. 虚拟机资源管理")]),s._v(" "),a("h3",{attrs:{id:"_2-1-查看虚拟机信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-查看虚拟机信息"}},[s._v("#")]),s._v(" 2.1 查看虚拟机信息")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" dominfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("输出信息包括 ID、状态、内存、CPU 等。")])]),s._v(" "),a("h3",{attrs:{id:"_2-2-获取虚拟机的-xml-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-获取虚拟机的-xml-配置"}},[s._v("#")]),s._v(" 2.2 获取虚拟机的 XML 配置")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" dumpxml "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" dumpxml my-vm "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" my-vm.xml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_2-3-编辑虚拟机的-xml-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-编辑虚拟机的-xml-配置"}},[s._v("#")]),s._v(" 2.3 编辑虚拟机的 XML 配置")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" edit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("使用系统默认编辑器打开虚拟机的 XML 文件进行编辑。")])]),s._v(" "),a("h3",{attrs:{id:"_2-4-定义新虚拟机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-定义新虚拟机"}},[s._v("#")]),s._v(" 2.4 定义新虚拟机")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" define "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("XML配置文件"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_2-5-调整虚拟机内存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-调整虚拟机内存"}},[s._v("#")]),s._v(" 2.5 调整虚拟机内存")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" setmem "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("内存大小"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("M"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("G"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" setmem my-vm 2G\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_2-6-调整虚拟机-cpu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-调整虚拟机-cpu"}},[s._v("#")]),s._v(" 2.6 调整虚拟机 CPU")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" setvcpus "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CPU数量"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--config")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("--config")]),s._v("：永久更改。")])]),s._v(" "),a("h2",{attrs:{id:"_3-存储管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-存储管理"}},[s._v("#")]),s._v(" 3. 存储管理")]),s._v(" "),a("h3",{attrs:{id:"_3-1-查看存储池"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-查看存储池"}},[s._v("#")]),s._v(" 3.1 查看存储池")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" pool-list "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--all")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_3-2-创建存储池"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-创建存储池"}},[s._v("#")]),s._v(" 3.2 创建存储池")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" pool-create "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("XML配置文件"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" pool-create pool.xml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_3-3-查看存储卷"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-查看存储卷"}},[s._v("#")]),s._v(" 3.3 查看存储卷")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" vol-list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("存储池名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" vol-list default\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_3-4-创建存储卷"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-创建存储卷"}},[s._v("#")]),s._v(" 3.4 创建存储卷")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" vol-create "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("存储池名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("XML配置文件"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" vol-create default volume.xml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_4-网络管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-网络管理"}},[s._v("#")]),s._v(" 4. 网络管理")]),s._v(" "),a("h3",{attrs:{id:"_4-1-列出网络"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-列出网络"}},[s._v("#")]),s._v(" 4.1 列出网络")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" net-list "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--all")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_4-2-创建网络"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-创建网络"}},[s._v("#")]),s._v(" 4.2 创建网络")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" net-create "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("XML配置文件"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_4-3-删除网络"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-删除网络"}},[s._v("#")]),s._v(" 4.3 删除网络")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" net-destroy "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("网络名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" net-undefine "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("网络名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_5-快照管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-快照管理"}},[s._v("#")]),s._v(" 5. 快照管理")]),s._v(" "),a("h3",{attrs:{id:"_5-1-创建快照"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-创建快照"}},[s._v("#")]),s._v(" 5.1 创建快照")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" snapshot-create-as "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("快照名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--description")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<描述>"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_5-2-恢复快照"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-恢复快照"}},[s._v("#")]),s._v(" 5.2 恢复快照")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" snapshot-revert "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("快照名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_6-镜像管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-镜像管理"}},[s._v("#")]),s._v(" 6. 镜像管理")]),s._v(" "),a("h3",{attrs:{id:"_6-1-创建磁盘镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-创建磁盘镜像"}},[s._v("#")]),s._v(" 6.1 创建磁盘镜像")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("qemu-img create "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" qcow2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("镜像路径"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("大小"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nqemu-img create "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" qcow2 /var/lib/libvirt/images/my-vm.qcow2 20G\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_6-2-查看镜像信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-查看镜像信息"}},[s._v("#")]),s._v(" 6.2 查看镜像信息")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("qemu-img info "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("镜像路径"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_7-虚拟机控制台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-虚拟机控制台"}},[s._v("#")]),s._v(" 7. 虚拟机控制台")]),s._v(" "),a("h3",{attrs:{id:"_7-1-连接到虚拟机控制台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-连接到虚拟机控制台"}},[s._v("#")]),s._v(" 7.1 连接到虚拟机控制台")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" console "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("退出控制台：按 "),a("code",[s._v("Ctrl + ]")]),s._v("。")])]),s._v(" "),a("h2",{attrs:{id:"_8-性能监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-性能监控"}},[s._v("#")]),s._v(" 8. 性能监控")]),s._v(" "),a("h3",{attrs:{id:"_8-1-查看实时性能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-查看实时性能"}},[s._v("#")]),s._v(" 8.1 查看实时性能")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" domstats "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_8-2-查看虚拟机的-vcpu-信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-查看虚拟机的-vcpu-信息"}},[s._v("#")]),s._v(" 8.2 查看虚拟机的 VCPU 信息")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" vcpuinfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_8-3-查看虚拟机-i-o-信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-查看虚拟机-i-o-信息"}},[s._v("#")]),s._v(" 8.3 查看虚拟机 I/O 信息")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" blkstat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("虚拟机名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"查看帮助信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看帮助信息"}},[s._v("#")]),s._v(" 查看帮助信息")]),s._v(" "),a("p",[s._v("bash复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("命令"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("这些命令适用于大多数 KVM 管理场景，配合 "),a("code",[s._v("virt-manager")]),s._v(" 等图形化工具，可以更高效地管理 KVM 虚拟化环境。")])])}),[],!1,null,null,null);a.default=e.exports}}]);