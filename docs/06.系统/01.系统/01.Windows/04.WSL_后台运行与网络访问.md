---
title: WSL_åå°è¿è¡Œä¸ç½‘ç»œè®¿é—®
date: 2025-06-03 16:15:26
permalink: /pages/f6c3e3/
categories:
  - ç³»ç»Ÿ
  - ç³»ç»Ÿ
  - Windows
tags:
  - WSL_åå°è¿è¡Œä¸ç½‘ç»œè®¿é—®
author:
  name: MeiChen
  link: https://github.com/mtl-123
---


# âš™ï¸ WSL åå°è¿è¡Œä¸ç½‘ç»œè®¿é—®é…ç½®æŒ‡å—

> ğŸ’¡ æœ¬æ–‡æ¡£è®²è§£å¦‚ä½•è®© WSL åœ¨åå°æŒç»­è¿è¡Œï¼Œå¹¶å®ç°ä»å±€åŸŸç½‘è®¿é—® WSL å†…éƒ¨æœåŠ¡ã€‚

---

## â³ 7. ä¿æŒ WSL åœ¨åå°æŒç»­è¿è¡Œ

> ğŸ’¡ å½“é€€å‡ºç»ˆç«¯åï¼ŒWSL å¯èƒ½ä¼šè‡ªåŠ¨å…³é—­ï¼Œå¯¼è‡´ SSH æˆ–å…¶ä»–æœåŠ¡ä¸­æ–­ã€‚

### è§£å†³æ–¹æ¡ˆï¼šåˆ›å»º `.vbs` è„šæœ¬å¼€æœºå¯åŠ¨ WSL å¹¶ä¿æŒè¿è¡Œ

#### 1. åˆ›å»ºè„šæœ¬æ–‡ä»¶ `start-wsl-background.vbs`

```vbs
Set objShell = CreateObject("WScript.Shell")
objShell.Run "cmd /c wsl", 0, False
```

#### 2. è®¾ç½®å¼€æœºè‡ªå¯åŠ¨

- æŒ‰ä¸‹ `Win + R` è¾“å…¥ `shell:startup` æ‰“å¼€â€œå¯åŠ¨â€æ–‡ä»¶å¤¹
- å°†ä¸Šè¿° `.vbs` æ–‡ä»¶å¤åˆ¶åˆ°è¯¥æ–‡ä»¶å¤¹ä¸­

âœ… æ•ˆæœï¼š

- Windows å¼€æœºåè‡ªåŠ¨é™é»˜è¿è¡Œ WSL
- å³ä½¿å…³é—­ç»ˆç«¯ï¼ŒWSL ä¹Ÿä¸ä¼šé€€å‡º

---

## ğŸŒ 8. è®©å®¿ä¸»æœºåŠå±€åŸŸç½‘è®¿é—® WSL ä¸­çš„æœåŠ¡

> ğŸ’¡ ç¤ºä¾‹ï¼šä½ åœ¨ WSL ä¸­è¿è¡Œäº†ä¸€ä¸ª Python HTTP æœåŠ¡ç›‘å¬åœ¨ `8000` ç«¯å£ï¼Œå¦‚ä½•è®©å±€åŸŸç½‘è®¿é—®ï¼Ÿ

### 1. åœ¨ WSL ä¸­å¯åŠ¨æœåŠ¡

```bash
nohup python3 -m http.server 8000 &
```

### 2. è·å– WSL çš„ IP åœ°å€

```bash
hostname -I
```

å‡è®¾è¾“å‡ºä¸ºï¼š`172.27.250.42`

---

## ğŸ” 9. é…ç½® Windows ç«¯å£è½¬å‘ï¼ˆPort Proxyï¼‰

### 1. è·å– WSL ç½‘å¡åç§°

åœ¨ PowerShell ä¸­æ‰§è¡Œï¼š

```powershell
ipconfig /all
```

æ‰¾åˆ°ç±»ä¼¼å¦‚ä¸‹ä¿¡æ¯ï¼š

```
ä»¥å¤ªç½‘é€‚é…å™¨ vEthernet (WSL (Hyper-V firewall)):

   IPv4 åœ°å€ . . . . . . . . . . . . : 172.27.240.1(é¦–é€‰)
```

### 2. æ·»åŠ é˜²ç«å¢™è§„åˆ™å…è®¸è®¿é—®

ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ PowerShell å¹¶æ‰§è¡Œï¼š

```powershell
New-NetFirewallRule -DisplayName "WSL" -Direction Inbound -InterfaceAlias "vEthernet (WSL (Hyper-V firewall))" -Action Allow
```

### 3. é…ç½®ç«¯å£è½¬å‘ï¼ˆPort Proxyï¼‰

```powershell
netsh interface portproxy add v4tov4 listenaddress=0.0.0.0 listenport=8000 connectaddress=172.27.250.42 connectport=8000
```

---

## âœ… 10. éªŒè¯æœåŠ¡æ˜¯å¦å¯è¾¾

### åœ¨å®¿ä¸»æœºä¸Šæµ‹è¯•æœ¬åœ°è®¿é—®

```bash
telnet 127.0.0.1 8000
```

### åœ¨å±€åŸŸç½‘è®¾å¤‡ä¸Šæµ‹è¯•è®¿é—®

```bash
telnet <Windowså®¿ä¸»æœºIP> 8000
```

ä¾‹å¦‚ï¼š

```bash
telnet 192.168.10.10 8000
```

å¦‚æœè¿æ¥æˆåŠŸï¼Œè¯´æ˜æœåŠ¡å·²å¼€æ”¾ï¼

---

## ğŸ“ é™„å½•ï¼šå¸¸ç”¨å‘½ä»¤æ±‡æ€»

| æ“ä½œ | å‘½ä»¤ |
|------|------|
| è·å– WSL IP | `hostname -I` |
| æ·»åŠ é˜²ç«å¢™è§„åˆ™ | `New-NetFirewallRule -DisplayName "WSL" -Direction Inbound ...` |
| é…ç½®ç«¯å£è½¬å‘ | `netsh interface portproxy add v4tov4 ...` |
| æµ‹è¯•ç«¯å£è¿é€šæ€§ | `telnet <IP> <Port>` |

---
